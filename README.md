# OpenCV_Test
類似度判定検証のため、OpenCVを試してみる

## Pythonライブラリ
- OpenCV

## OpenCVインストール
pipのアップグレードが必要だった
- python -m pip install --upgrade pip
- pip install opencv-python

# 検証
結果数値が高い程類似判定。低いと別画像判定らしい。
## OpenCV_Test.py
犬画像で判定

```
python .\OpenCV_Test.py
TARGET_FILE: 05.png
01.png 0.3064316801821619
02.png -0.09702013809004943
03.png 0.5273343981076624
04.png 0.5453261576844468
06.png 0.1256772923432995
```
柴犬：柴犬でうまくいっているみたい。

## OpenCV_Test2.py
- 服装で検証(ヒストグラム比較)
- ヒストグラム比較＝色合いでの比較

```
TARGET_FILE: 1.jpg
10.jpg 0.20745437022525748
11.jpg 0.13669336067647309
12.jpg 0.03545547699295739
13.jpg 0.29674490110026824
14.jpg 0.12194968906743012
15.jpg 0.054965414539652487
16.jpg 0.09791572991238141
2.jpg 0.048559490484080654
3.jpg 0.3385590539215023
4.jpg -0.029374488076292428
6.jpg 0.6158408001327945
7.jpg 0.40223973106425853
8.jpg 0.3867658375997327
9.jpg 0.05228642256659281
```
微妙・・・

## OpenCV_Test3.py
- 服装で検証(特徴点マッチング)
- 2画像の特徴点を抽出、それらの距離を比較（AKAZE）+グレースケール

```
python .\OpenCV_Test3.py 
TARGET_FILE: 1.jpg
10.jpg 125.625
11.jpg 123.41071428571429
12.jpg 134.29464285714286
13.jpg 124.875
14.jpg 136.35714285714286
15.jpg 129.17857142857142
16.jpg 128.33928571428572
17.jpg 123.51785714285714
18.jpg 124.83035714285714
19.jpg 130.29464285714286
2.jpg 120.47321428571429
20.jpg 136.5625
21.jpg 127.00892857142857
22.jpg 131.72321428571428
23.jpg 124.09821428571429
24.jpg 127.88392857142857
25.jpg 133.66071428571428
26.jpg 126.99107142857143
27.jpg 131.6875
28.jpg 127.875
29.jpg 123.5
3.jpg 133.375
30.jpg 128.33035714285714
31.jpg 125.65178571428571
32.jpg 127.32142857142857
33.jpg 120.88392857142857
4.jpg 114.90178571428571
5.jpg 121.55357142857143
6.jpg 129.94642857142858
7.jpg 130.51785714285714
8.jpg 122.34821428571429
9.jpg 128.26785714285714
```
かなり良い感じ

## OpenCV_Test3.py
- 服装で検証(特徴点マッチング)
- 2画像の特徴点を抽出、それらの距離を比較（ORB）+グレースケール

```
python .\OpenCV_Test3.py 
TARGET_FILE: 1.jpg
10.jpg 74.91569767441861
11.jpg 71.04941860465117
12.jpg 72.7936046511628
13.jpg 71.52616279069767
14.jpg 70.68895348837209
15.jpg 73.13081395348837
16.jpg 71.95348837209302
17.jpg 70.5813953488372
18.jpg 68.88662790697674
19.jpg 74.67441860465117
2.jpg 69.51162790697674
20.jpg 71.41279069767442
21.jpg 76.13662790697674
22.jpg 72.93604651162791
23.jpg 72.40116279069767
24.jpg 71.65116279069767
25.jpg 73.28488372093024
26.jpg 70.81686046511628
27.jpg 75.23546511627907
28.jpg 70.61918604651163
29.jpg 69.40406976744185
3.jpg 70.25872093023256
30.jpg 73.23837209302326
31.jpg 69.94767441860465
32.jpg 70.53488372093024
33.jpg 68.9186046511628
4.jpg 67.81395348837209
5.jpg 68.38953488372093
6.jpg 71.18895348837209
7.jpg 74.13372093023256
8.jpg 70.57267441860465
9.jpg 75.93604651162791
```

こっちもかなり良い感じ

## AKAZEとORBどちらを使うか
- ライセンス的にどちらも使いやすそう
- ネット記事等を見る感じ、AKAZEが良さげなのでAKAZE？